(()=>{function u(i){let o=i+"=",n=document.cookie.split(";");for(let l=0;l<n.length;l++){let s=n[l];for(;s.charAt(0)==" ";)s=s.substring(1,s.length);if(s.indexOf(o)==0)return s.substring(o.length,s.length)}return null}(function(){let i=document.createElement("div"),o="";o+='<ul class="a11y-toolbar-list">',wpatb.enable_contrast=="true"&&(o+='<li class="a11y-toolbar-list-item"><button type="button" class="a11y-toggle a11y-toggle-contrast toggle-contrast" id="is_normal_contrast" aria-pressed="false"><span class="offscreen">'+wpatb.contrast+'</span><span class="aticon aticon-adjust" aria-hidden="true"></span></button></li>'),wpatb.enable_grayscale=="true"&&(o+='<li class="a11y-toolbar-list-item"><button type="button" class="a11y-toggle a11y-toggle-grayscale toggle-grayscale" id="is_normal_color" aria-pressed="false"><span class="offscreen">'+wpatb.grayscale+'</span><span class="aticon aticon-tint" aria-hidden="true"></span></button></li>'),wpatb.enable_fontsize=="true"&&(o+='<li class="a11y-toolbar-list-item"><button type="button" class="a11y-toggle a11y-toggle-fontsize toggle-fontsize" id="is_normal_fontsize" aria-pressed="false"><span class="offscreen">'+wpatb.fontsize+'</span><span class="aticon aticon-font" aria-hidden="true"></span></button></li>'),o+="</ul>",i.classList.add(wpatb.responsive,"a11y-toolbar",wpatb.is_rtl,wpatb.is_right,wpatb.custom_location),i.innerHTML=o;let n=document.querySelector(wpatb.location);n!==null?n.insertAdjacentElement("afterbegin",i):(n=document.querySelector("body"),i.classList.remove("custom-location"),i.classList.add("standard-location"),n.insertAdjacentElement("afterbegin",i),console.log("WP Accessibility Toolbar insertion point not valid. Moved to body."));let l=document.querySelectorAll(".a11y-toggle"),s=document.querySelector("body"),p=document.querySelector("head"),c=document.querySelector("html"),r=document.querySelector(".a11y-toolbar");l.forEach(t=>{t.addEventListener("focus",function(){t.classList.remove("tooltip-dismissed")}),t.addEventListener("keyup",function(e){e.keyCode==27&&t.classList.addClass("tooltip-dismissed")})}),u("a11y-desaturated")&&d(),u("a11y-high-contrast")&&f(),u("a11y-larger-fontsize")&&b();function d(){c.classList.add("desaturated");let t=r.querySelector("#is_normal_color");t.setAttribute("id","is_grayscale"),t.setAttribute("aria-pressed",!0),t.classList.add("active")}function _(){c.classList.remove("desaturated");let t=r.querySelector("#is_grayscale");t.setAttribute("id","is_normal_color"),t.setAttribute("aria-pressed",!1),t.classList.remove("active")}function f(){s.classList.add("contrast");let t=r.querySelector("#is_normal_contrast");t.setAttribute("id","is_high_contrast"),t.setAttribute("aria-pressed",!0),t.classList.add("active");let e=document.createElement("link");e.setAttribute("href",wpa11y.path),e.setAttribute("id","highContrastStylesheet"),e.setAttribute("rel","stylesheet"),p.insertAdjacentElement("beforeend",e)}function h(){s.classList.remove("contrast");let t=r.querySelector("#is_high_contrast");t.setAttribute("id","is_normal_contrast"),t.setAttribute("aria-pressed",!1),t.classList.remove("active"),document.getElementById("highContrastStylesheet").remove()}function b(){c.classList.add("fontsize");let t=r.querySelector("#is_normal_fontsize");t.setAttribute("id","is_large_fontsize"),t.setAttribute("aria-pressed",!0),t.classList.add("active")}function v(){c.classList.remove("fontsize");let t=r.querySelector("#is_large_fontsize");t.setAttribute("id","is_normal_fontsize"),t.setAttribute("aria-pressed",!1),t.classList.remove("active")}let g=document.querySelector(".toggle-grayscale"),y=document.querySelector(".toggle-contrast"),m=document.querySelector(".toggle-fontsize");g!==null&&g.addEventListener("click",function(){this.getAttribute("id")==="is_normal_color"?d():_()}),y!==null&&y.addEventListener("click",function(){this.getAttribute("id")==="is_normal_contrast"?f():h()}),m!==null&&m.addEventListener("click",function(){this.getAttribute("id")==="is_normal_fontsize"?b():v()}),document.querySelectorAll('input,a[href],select,textarea,button:not(.a11y-toggle),[tabindex]:not([tabindex="-1"])').forEach(t=>{t.addEventListener("focus",function(){let e=t.getBoundingClientRect(),a=document.querySelector(".a11y-toolbar.standard-location");if(a?a=a.getBoundingClientRect():a={bottom:0,left:0,top:0,right:0},!(e.top>a.bottom||e.right<a.left||e.bottom<a.top||e.left>a.right)){let S=e.bottom-a.top;window.scrollBy(0,S)}})})})();})();
