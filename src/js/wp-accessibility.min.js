(()=>{(()=>{"use strict";let n=document.querySelector("html"),f=document.querySelector("body"),s=[];if(wpa.lang&&(n.getAttribute("lang")||(n.setAttribute("lang",wpa.lang),(wpa.errors||wpa.tracking)&&(s.push("html-lang"),console.log("HTML language set by WP Accessibility")))),wpa.dir&&!n.getAttribute("dir")&&wpa.dir!=="ltr"&&(n.setAttributeattr("dir",wpa.dir),(wpa.errors||wpa.tracking)&&(s.push("html-lang-direction"),console.log("HTML language direction set by WP Accessibility"))),wpa.continue){let i=document.querySelectorAll(".wp-block-post-excerpt__more-link");i.length!==0&&i.forEach(e=>{if(!e.hasAttribute("aria-describedby")){let a=e.closest(".wp-block-post"),l=a.getAttribute("class");l=l.replaceAll(" ","-");let r=a.querySelector(".wp-block-post-title");r&&(r.hasAttribute("id")?l=r.getAttribute("id"):r.setAttribute("id",l),e.setAttribute("aria-describedby",l),(wpa.errors||wpa.tracking)&&console.log("Continue Reading link description set by WP Accessibility"))}})}let p=document.querySelector('meta[name="viewport"]');if(p){let i=p.getAttribute("content"),e=p.getAttribute("content");i.search(/user-scalable=no/g)&&(e=i.replace("user-scalable=no","user-scalable=yes"),p.setAttribute("content",e),(wpa.errors||wpa.tracking)&&e!=i&&(s.push("viewport-scalable"),console.log("Viewport made scalable by WP Accessibility"))),i.search(/maximum-scale=1/g)&&(e=i.replace("maximum-scale=1","maximum-scale=5"),e=e.replace("maximum-scale=0","maximum-scale=5"),p.setAttribute("content",e),(wpa.errors||wpa.tracking)&&e!=i&&(s.push("viewport-maxscale"),console.log("Viewport maximum scale set by WP Accessibility")))}if(wpa.skiplinks.enabled&&(f.prepend(wpa.skiplinks.output),(wpa.errors||wpa.tracking)&&(s.push("skiplinks"),console.log("Skip links added by WP Accessibility"))),wpa.current){let i=document.querySelectorAll(".current-menu-item a, .current_page_item a");i.length!==0&&(i.forEach(e=>{e.setAttribute("aria-current","page")}),(wpa.errors||wpa.tracking)&&(s.push("aria-current"),console.log("ARIA current added by WP Accessibility")))}if(wpa.labels&&["s","author","email","url","comment"].forEach(e=>{let a,l,r,t,o,u,c,g,d,w;e=="comment"?a=document.querySelectorAll("textarea[name="+e+"]"):a=document.querySelectorAll("input[name="+e+"]:not(#adminbar-search)"),a.length!==0&&a.forEach(b=>{b.length!==0&&(l=b.getAttribute("id"),r=b.closest("label"),t=b.getAttribute("aria-label"),o=b.getAttribute("aria-labelledby"),u={},o&&(u=document.getElementById(o)),c=!(t==""||typeof t>"u"),g=!(o==""||typeof o>"u"),(!c&&!g||!c&&g&&u.length===0)&&(l?(d=document.querySelector("label[for="+l+"]"),w=d.innerText,d.length&&!w&&(d.innerText=wpa.wpalabels[e],(wpa.errors||wpa.tracking)&&(s.push(["empty-label",wpa.wpalabels[e]]),console.log("Empty label on "+wpa.wpalabels[e]+" added by WP Accessibility"))),!d.length&&!r.length&&(b.insertAdjacentHTML("beforebegin","<label for='"+l+"' class='wpa-screen-reader-text'>"+wpa.wpalabels[e]+"</label>"),(wpa.errors||wpa.tracking)&&(s.push(["explicit-label",wpa.wpalabels[e]]),console.log("Explicit label on "+wpa.wpalabels[e]+" added by WP Accessibility")))):r.length||(b.setAttribute("id","wpa_label_"+e),b.insertAdjacentHTML("beforebegin","<label for='wpa_label_"+e+"' class='wpa-screen-reader-text'>"+wpa.wpalabels[e]+"</label>"),(wpa.errors||wpa.tracking)&&(s.push(["implicit-label",wpa.wpalabels[e]]),console.log("Implicit label on "+wpa.wpalabels[e]+" added by WP Accessibility")))))})}),wpa.titles){let i=0,e=0,a=0,l=!1,r=document.querySelectorAll("img, a, input, textarea, select, button");r.length!==0&&(r.forEach(t=>{let o=t.getAttribute("title");if(t.classList.contains("nturl")&&(l=!0),o&&o!=="")switch(t.tagName){case"IMG":let u=t.getAttribute("alt");(!u||u==="")&&t.setAttribute("alt",o),t.removeAttribute("title"),i++;break;case"A":case"BUTTON":let c=m(t);if(!c||c===""){let A=t.getAttribute("aria-label");(!A||A==="")&&(t.setAttribute("aria-label",o),l||t.removeAttribute("title"))}else t.removeAttribute("title");e++;break;case"INPUT":case"SELECT":case"TEXTAREA":let g=t.getAttribute("aria-label"),d=t.getAttribute("aria-labelledby"),w=d?document.getElementById(d):!1,b=t.getAttribute("id"),h=b?document.querySelector('label[for="'+b+'"]'):!1,y=t.closest("label"),x=!!(g&&g!==""),k=!!(h&&m(h)!==""),v=!!(y&&m(y)!==""),E=!!(w&&m(arialabeller)!=="");x||k||v||E||t.setAttribute("aria-label",o),t.removeAttribute("title"),a++;break}}),(wpa.errors||wpa.tracking)&&(i>0&&(s.push(["images-titles",i]),console.log(i+" title attributes removed from images by WP Accessibility")),e>0&&(s.push(["control-titles",e]),console.log(e+" title attributes removed from links and buttons by WP Accessibility")),a>0&&(s.push(["input-titles",a]),console.log(a+" title attributes removed from input fields by WP Accessibility"))))}if(wpa.target){let i=document.querySelectorAll("a:not(.wpa-allow-target)"),e=0;i.length!==0&&(i.forEach(a=>{let l=a.getAttribute("target"),r=a.getAttribute("href");if(l)try{new URL(r).hostname.includes("facebook")||(a.removeAttr("target"),e++)}catch(t){}}),e>0&&(wpa.errors||wpa.tracking)&&(s.push(["link-targets",e]),console.log(e+" target attributes removed from links by WP Accessibility")))}if(wpa.tabindex){let i=document.querySelectorAll("input,a[href],select,textarea,button"),e=0;i.length!==0&&(i.forEach(r=>{r.getAttribute("tabindex")&&(r.removeAttribute("tabindex"),e++)}),e>0&&(wpa.errors||wpa.tracking)&&(s.push(["control-tabindex",e]),console.log(e+" tabindex attributes removed from links, buttons and inputs by WP Accessibility")));let a=document.querySelectorAll('[role="button"]:not([tabindex]):not(a)'),l=document.querySelectorAll('a[role="button"]:not([tabindex]):not([href])');a.length!==0&&(a.forEach(r=>{r.setAttribute("tabindex","0"),r.classList.add("wpa-focusable")}),a.length>0&&(wpa.errors||wpa.tracking)&&(s.push(["button-add-tabindex",a.length]),console.log(a.length+" tabindex attributes added to divs with the button role by WP Accessibility"))),l!==0&&(l.forEach(r=>{r.setAttribute("tabindex","0"),r.classList.add("wpa-focusable")}),l.length>0&&(wpa.errors||wpa.tracking)&&(s.push(["link-add-tabindex",l.length]),console.log(l.length+" tabindex attributes added to anchor elements with the button role and no href value by WP Accessibility")))}if(wpa.url!=="disabled"){let e=function(t,o,u="event"){let c=new FormData;c.append("action",wpa.action),c.append("security",wpa.security),c.append("stats",t),c.append("post_id",wpa.post_id),c.append("title",o),c.append("type",u),fetch(wpa.ajaxurl,{method:"POST",body:c})},i=new Fingerprint().get(),a=document.querySelector(".toggle-contrast");a&&a.addEventListener("click",function(){let t;this.getAttribute("id")=="is_normal_contrast"?t={contrast:"disabled"}:t={contrast:"enabled"},e(t,i)});let l=document.querySelector(".toggle-contrast");l&&l.addEventListener("click",function(){let t;this.getAttribute("id")=="is_normal_fontsize"?t={fontsize:"disabled"}:t={fontsize:"enabled"},e(t,i)}),L(".wpa-ld button").then(t=>{t.addEventListener("click",function(o){if(t.getAttribute("aria-expanded")==="true"){let d={longdesc:t.closest("div").getAttribute("class").replace("wpa-ld wp-image-","")};e(d,i)}})});let r=document.querySelectorAll(".wpa-alt button");r.length>0&&r.forEach(t=>{t.addEventListener("click",function(o){if(t.getAttribute("aria-expanded")==="true"){let d={alttext:t.closest("div").getAttribute("class").replace("wpa-alt wp-image-","")};e(d,i)}})}),wpa.tracking&&s.length>=1&&e(s,wpa.url,"view")}if(wpa.underline.enabled){let i=document.querySelectorAll(wpa.underline.target+":not(nav "+wpa.underline.target+")");i.length>0&&i.forEach(e=>{let a=e.style.outlineWidth,l=e.style.outlineOffset,r=e.style.color,t=e.style.outlineColor;e.style.textDecoration="underline",e.addEventListener("mouseenter",function(){this.style.textDecoration="none"}),e.addEventListener("mouseleve",function(){this.style.textDecoration="none"}),e.addEventListener("focusin",function(){let o="2px";a=="2px"&&(o="4px"),this.style.outlineWidth=o,this.style.outlineColor=r,this.style.outlineOffset="2px"}),e.addEventListener("focusout",function(){this.style.outlineWidth=a,this.style.outlineColor=t,this.style.outlineOffset=l})})}if(wpa.videos){let i=matchMedia("(prefers-reduced-motion)"),e="false",a=document.querySelectorAll("video[autoplay]:not([controls])");a.length>0&&a.forEach(l=>{i.matches&&(l.pause(),e="true");let r=l.parentElement,t=document.createElement("button"),o=document.createElement("span"),u=document.createElement("span");t.setAttribute("type","button"),t.classList.add("wpa-video"),t.setAttribute("aria-pressed",e),o.classList.add("dashicons-controls-pause","dashicons"),o.setAttribute("aria-hidden","true"),u.classList.add("screen-reader-text"),u.innerText=wpa.pause,t.append(o,u),r.append(t),t.addEventListener("click",function(){let c=this.getAttribute("aria-pressed");console.log(c),c==="true"?(l.play(),this.setAttribute("aria-pressed","false")):(l.pause(),this.setAttribute("aria-pressed","true"))})})}})();function m(n){let f="";if(n.nodeType===3||n.nodeType===4)f=n.nodeValue;else if(n.nodeType===1&&(n.tagName.toLowerCase()=="img"||n.tagName.toLowerCase()=="area"||n.tagName.toLowerCase()=="input"&&n.getAttribute("type")&&n.getAttribute("type").toLowerCase()=="image"))f=n.getAttribute("alt")||"";else if(n.nodeType===1&&!n.tagName.match(/^(script|style)$/i)){let s=n.childNodes;for(let p=0,i=s.length;p<i;p++){let e=n.getAttribute("aria-label");f+=e||m(s[p])+" "}}return f}function L(n){return new Promise(f=>{if(document.querySelector(n))return f(document.querySelector(n));let s=new MutationObserver(p=>{document.querySelector(n)&&(s.disconnect(),f(document.querySelector(n)))});s.observe(document.body,{childList:!0,subtree:!0})})}})();
