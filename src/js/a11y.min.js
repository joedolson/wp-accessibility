(()=>{function l(a){let i=a+"=",n=document.cookie.split(";");for(let r=0;r<n.length;r++){let e=n[r];for(;e.charAt(0)==" ";)e=e.substring(1,e.length);if(e.indexOf(i)==0)return e.substring(i.length,e.length)}return null}(()=>{let a=document.querySelectorAll(".a11y-toggle"),i=document.querySelector("body"),n=document.querySelector("head"),r=document.querySelector("html"),e=document.querySelector(".a11y-toolbar");a.forEach(t=>{t.addEventListener("focus",function(){t.classList.remove("tooltip-dismissed")}),t.addEventListener("keyup",function(s){s.keyCode==27&&t.classList.addClass("tooltip-dismissed")})}),l("a11y-desaturated")&&c(),l("a11y-high-contrast")&&u(),l("a11y-larger-fontsize")&&d();function c(){i.classList.add("desaturated");let t=e.querySelector("#is_normal_color");t.setAttribute("id","is_grayscale"),t.setAttribute("aria-pressed",!0),t.classList.add("active")}function b(){i.classList.remove("desaturated");let t=e.querySelector("#is_grayscale");t.setAttribute("id","is_normal_color"),t.setAttribute("aria-pressed",!1),t.classList.remove("active")}function u(){i.classList.add("contrast");let t=e.querySelector("#is_normal_contrast");t.setAttribute("id","is_high_contrast"),t.setAttribute("aria-pressed",!0),t.classList.add("active");let s=document.createElement("link");s.setAttribute("href",wpa11y.path),s.setAttribute("id","highContrastStylesheet"),s.setAttribute("rel","stylesheet"),n.insertAdjacentElement("beforeend",s)}function y(){i.classList.remove("contrast");let t=e.querySelector("#is_high_contrast");t.setAttribute("id","is_normal_contrast"),t.setAttribute("aria-pressed",!1),t.classList.remove("active"),document.getElementById("highContrastStylesheet").remove()}function d(){r.classList.add("fontsize");let t=e.querySelector("#is_normal_fontsize");t.setAttribute("id","is_large_fontsize"),t.setAttribute("aria-pressed",!0),t.classList.add("active")}function h(){r.classList.remove("fontsize");let t=e.querySelector("#is_large_fontsize");t.setAttribute("id","is_normal_fontsize"),t.setAttribute("aria-pressed",!1),t.classList.remove("active")}let f=document.querySelector(".toggle-grayscale"),m=document.querySelector(".toggle-contrast"),g=document.querySelector(".toggle-fontsize");f!==null&&f.addEventListener("click",function(){this.getAttribute("id")==="is_normal_color"?c():b()}),m!==null&&m.addEventListener("click",function(){this.getAttribute("id")==="is_normal_contrast"?u():y()}),g!==null&&g.addEventListener("click",function(){this.getAttribute("id")==="is_normal_fontsize"?d():h()}),document.querySelectorAll('input,a[href],select,textarea,button:not(.a11y-toggle),[tabindex]:not([tabindex="-1"])').forEach(t=>{t.addEventListener("focus",function(){let s=t.getBoundingClientRect(),o=document.querySelector(".a11y-toolbar.standard-location");if(o?o=o.getBoundingClientRect():o={bottom:0,left:0,top:0,right:0},!(s.top>o.bottom||s.right<o.left||s.bottom<o.top||s.left>o.right)){let _=s.bottom-o.top;window.scrollBy(0,_)}})})})();})();
