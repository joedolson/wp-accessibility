(()=>{function l(a){for(var r=a+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var e=n[i];e.charAt(0)==" ";)e=e.substring(1,e.length);if(e.indexOf(r)==0)return e.substring(r.length,e.length)}return null}(function(){let a=document.querySelectorAll(".a11y-toggle"),r=document.querySelector("body"),n=document.querySelector("head"),i=document.querySelector("html"),e=document.querySelector(".a11y-toolbar");a.forEach(t=>{t.addEventListener("focus",function(){t.classList.remove("tooltip-dismissed")}),t.addEventListener("keyup",function(s){s.keyCode==27&&t.classList.addClass("tooltip-dismissed")})}),l("a11y-desaturated")&&c(),l("a11y-high-contrast")&&u(),l("a11y-larger-fontsize")&&d();function c(){r.classList.add("desaturated");let t=e.querySelector("#is_normal_color");t.setAttribute("id","is_grayscale"),t.setAttribute("aria-pressed",!0),t.classList.add("active")}function b(){r.classList.remove("desaturated");let t=e.querySelector("#is_grayscale");t.setAttribute("id","is_normal_color"),t.setAttribute("aria-pressed",!1),t.classList.remove("active")}function u(){r.classList.add("contrast");let t=e.querySelector("#is_normal_contrast");t.setAttribute("id","is_high_contrast"),t.setAttribute("aria-pressed",!0),t.classList.add("active");let s=document.createElement("link");s.setAttribute("href",wpa11y.path),s.setAttribute("id","highContrastStylesheet"),s.setAttribute("rel","stylesheet"),n.insertAdjacentElement("beforeend",s)}function y(){r.classList.remove("contrast");let t=e.querySelector("#is_high_contrast");t.setAttribute("id","is_normal_contrast"),t.setAttribute("aria-pressed",!1),t.classList.remove("active"),document.getElementById("highContrastStylesheet").remove()}function d(){i.classList.add("fontsize");let t=e.querySelector("#is_normal_fontsize");t.setAttribute("id","is_large_fontsize"),t.setAttribute("aria-pressed",!0),t.classList.add("active")}function h(){i.classList.remove("fontsize");let t=e.querySelector("#is_large_fontsize");t.setAttribute("id","is_normal_fontsize"),t.setAttribute("aria-pressed",!1),t.classList.remove("active")}let f=document.querySelector(".toggle-grayscale"),m=document.querySelector(".toggle-contrast"),g=document.querySelector(".toggle-fontsize");f!==null&&f.addEventListener("click",function(){this.getAttribute("id")==="is_normal_color"?c():b()}),m!==null&&m.addEventListener("click",function(){this.getAttribute("id")==="is_normal_contrast"?u():y()}),g!==null&&g.addEventListener("click",function(){this.getAttribute("id")==="is_normal_fontsize"?d():h()});var v=document.querySelectorAll('input,a[href],select,textarea,button:not(.a11y-toggle),[tabindex]:not([tabindex="-1"])');v.forEach(t=>{t.addEventListener("focus",function(){var s=t.getBoundingClientRect(),o=document.querySelector(".a11y-toolbar.standard-location");o?o=o.getBoundingClientRect():o={bottom:0,left:0,top:0,right:0};var _=!(s.top>o.bottom||s.right<o.left||s.bottom<o.top||s.left>o.right);if(_){var S=s.bottom-o.top;window.scrollBy(0,S)}})})})(jQuery);})();
