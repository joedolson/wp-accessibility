(()=>{function c(o,i,n){let l;if(n){let s=new Date;s.setTime(s.getTime()+n*24*60*60*1e3),l="; expires="+s.toGMTString()}else l="";document.cookie=o+"="+i+l+"; path=/; SameSite=Strict;"}function d(o){let i=o+"=",n=document.cookie.split(";");for(let l=0;l<n.length;l++){let s=n[l];for(;s.charAt(0)==" ";)s=s.substring(1,s.length);if(s.indexOf(i)==0)return s.substring(i.length,s.length)}return null}function u(o){c(o,"")}(function(){let o=document.createElement("div"),i="";i+='<ul class="a11y-toolbar-list">',wpatb.enable_contrast=="true"&&(i+='<li class="a11y-toolbar-list-item"><button type="button" class="a11y-toggle a11y-toggle-contrast toggle-contrast" data-id="is_normal_contrast" aria-pressed="false"><span class="offscreen">'+wpatb.contrast+'</span><span class="aticon aticon-adjust" aria-hidden="true"></span></button></li>'),wpatb.enable_grayscale=="true"&&(i+='<li class="a11y-toolbar-list-item"><button type="button" class="a11y-toggle a11y-toggle-grayscale toggle-grayscale" data-id="is_normal_color" aria-pressed="false"><span class="offscreen">'+wpatb.grayscale+'</span><span class="aticon aticon-tint" aria-hidden="true"></span></button></li>'),wpatb.enable_fontsize=="true"&&(i+='<li class="a11y-toolbar-list-item"><button type="button" class="a11y-toggle a11y-toggle-fontsize toggle-fontsize" data-id="is_normal_fontsize" aria-pressed="false"><span class="offscreen">'+wpatb.fontsize+'</span><span class="aticon aticon-font" aria-hidden="true"></span></button></li>'),i+="</ul>",o.classList.add(wpatb.responsive,"a11y-toolbar",wpatb.is_rtl,wpatb.is_right,wpatb.custom_location),o.innerHTML=i;let n=document.querySelector(wpatb.location);n!==null?n.insertAdjacentElement("afterbegin",o):(n=document.querySelector("body"),o.classList.remove("custom-location"),o.classList.add("standard-location"),n.insertAdjacentElement("afterbegin",o),console.log("WP Accessibility Toolbar insertion point not valid. Moved to body."));let l=document.querySelectorAll(".a11y-toggle"),s=document.querySelector("body"),p=document.querySelector("head"),r=document.querySelector("html"),E=document.querySelector(".a11y-toolbar");l.forEach(e=>{e.addEventListener("focus",function(){e.classList.remove("tooltip-dismissed")}),e.addEventListener("keyup",function(t){t.keyCode==27&&e.classList.addClass("tooltip-dismissed")})}),d("a11y-desaturated")&&f(),d("a11y-high-contrast")&&g(),d("a11y-larger-fontsize")&&b();function f(){r.classList.add("desaturated"),document.querySelectorAll('[data-id="is_normal_color"]').forEach(t=>{t.setAttribute("data-id","is_grayscale"),t.setAttribute("aria-pressed",!0),t.classList.add("active")}),c("a11y-desaturated","1")}function _(){r.classList.remove("desaturated"),document.querySelectorAll('[data-id="is_grayscale"]').forEach(t=>{t.setAttribute("data-id","is_normal_color"),t.setAttribute("aria-pressed",!1),t.classList.remove("active")}),u("a11y-desaturated")}function g(){s.classList.add("contrast"),document.querySelectorAll('[data-id="is_normal_contrast"]').forEach(a=>{a.setAttribute("data-id","is_high_contrast"),a.setAttribute("aria-pressed",!0),a.classList.add("active")}),c("a11y-high-contrast","1");let t=document.createElement("link");t.setAttribute("href",wpa11y.path),t.setAttribute("id","highContrastStylesheet"),t.setAttribute("rel","stylesheet"),p.insertAdjacentElement("beforeend",t)}function A(){s.classList.remove("contrast"),document.querySelectorAll('[data-id="is_high_contrast"]').forEach(a=>{a.setAttribute("data-id","is_normal_contrast"),a.setAttribute("aria-pressed",!1),a.classList.remove("active")}),u("a11y-high-contrast"),document.getElementById("highContrastStylesheet").remove()}function b(){r.classList.add("fontsize"),document.querySelectorAll('[data-id="is_normal_fontsize"]').forEach(t=>{t.setAttribute("data-id","is_large_fontsize"),t.setAttribute("aria-pressed",!0),t.classList.add("active")}),c("a11y-larger-fontsize","1")}function v(){r.classList.remove("fontsize"),document.querySelectorAll('[data-id="is_large_fontsize"]').forEach(t=>{t.setAttribute("data-id","is_normal_fontsize"),t.setAttribute("aria-pressed",!1),t.classList.remove("active")}),u("a11y-larger-fontsize")}let y=document.querySelectorAll(".toggle-grayscale"),m=document.querySelectorAll(".toggle-contrast"),h=document.querySelectorAll(".toggle-fontsize");y!==null&&y.forEach(e=>{e.addEventListener("click",function(){this.getAttribute("data-id")==="is_normal_color"?f():_()})}),m!==null&&m.forEach(e=>{e.addEventListener("click",function(){this.getAttribute("data-id")==="is_normal_contrast"?g():A()})}),h!==null&&h.forEach(e=>{e.addEventListener("click",function(){this.getAttribute("data-id")==="is_normal_fontsize"?b():v()})}),document.querySelectorAll('input,a[href],select,textarea,button:not(.a11y-toggle),[tabindex]:not([tabindex="-1"])').forEach(e=>{e.addEventListener("focus",function(){let t=e.getBoundingClientRect(),a=document.querySelector(".a11y-toolbar.standard-location");if(a?a=a.getBoundingClientRect():a={bottom:0,left:0,top:0,right:0},!(t.top>a.bottom||t.right<a.left||t.bottom<a.top||t.left>a.right)){let S=t.bottom-a.top;window.scrollBy(0,S)}})})})();})();
