(()=>{(function(e){"use strict";if(wpald.type==="link"){let p=function(a,t,r){var i=a.attr("alt"),l=document.body.className.split(/\s+/),n="";console.log(l),e.each(l,function(c,w){w.match(/postid-/gi)&&(n=w.replace("postid-","",w))});var s=new URL(r);s.searchParams.set("referrer",n),s.toString();var d=a.attr("class");a.wrap('<div class="wpa-ld" />'),a.parent(".wpa-ld").addClass(d),a.attr("alt","").attr("class",""),a.parent(".wpa-ld").append('<a href="'+s+'" class="longdesc-link">Description<span> of'+i+"</span></a>")},o=function(a){var t=a.attr("class").replace("wp-image-",""),r=wpald.url+"/"+t;e.get(r).done(function(i){var l={attachment:i},n=i.description.rendered;if(n=n.replace(/(<([^>]+)>)/gi,"").trim(),n!==""){var s=new URL(i.link);s.searchParams.set("longdesc",t),s.toString(),p(a,t,s)}}).fail(function(){console.log("cannot load media for longdesc on "+t)})};e("img[longdesc]").each(function(){var a=e(this).attr("longdesc"),t=e(this).attr("alt"),r=e(this).attr("class");e(this).wrap('<div class="wpa-ld" />'),e(this).parent(".wpa-ld").addClass(r),e(this).attr("alt","").attr("class",""),e(this).parent(".wpa-ld").append('<a href="'+a+'" class="longdesc-link">Description<span> of'+t+"</span></a>")}),e("figure.is-style-longdesc").each(function(){var a=e(this).find("img");o(a)})}else{let p=function(a,t,r,i){var l=a.attr("class");a.attr("class","").attr("longdesc",r),a.attr("id","longdesc-return-"+t),a.wrap('<div class="wpa-ld" />'),a.parent(".wpa-ld").addClass(l),a.parent(".wpa-ld").append('<button aria-expanded="false" class="wpa-toggle">'+wpald.text+"</button>"),a.parent(".wpa-ld").append('<div class="longdesc"></div>');var n=a.parent(".wpa-ld").children(".longdesc");n.hide(),n.load(r+" #desc_"+t,{limit:25},function(s,d,c){d==="error"&&n.html(i)}),a.parent(".wpa-ld").children("button").on("click",function(s){s.preventDefault();var d=n.is(":visible");d?(e(this).attr("aria-expanded","false"),n.hide()):(e(this).attr("aria-expanded","true"),n.show(150))})},o=function(a){var t=a.attr("class");t===""&&(t=a.parent(".wpa-alt").attr("class").replace("wpa-alt ",""));var r=t.replace("wp-image-",""),i=wpald.url+"/"+r;e.get(i).done(function(l){var n={attachment:l},s=l.description.rendered;if(s=s.replace(/(<([^>]+)>)/gi,"").trim(),s!==""){var d=new URL(l.link);d.searchParams.set("longdesc",r),d.toString(),p(a,r,d,s)}}).fail(function(){console.log("cannot load media for longdesc on "+r)})};e("img[longdesc]").each(function(){var a=e(this).attr("longdesc"),t=e(this),r=t.attr("class"),i=t.attr("class").match(/\S+/g),l="";if(e.each(i,function(d,c){c.match(/wp-image-/gi)&&(l=c)}),l===""){var n=t.attr("id");l=n.replace("longdesc-return-","")}t.attr("class",""),t.wrap('<div class="wpa-ld" />'),t.parent(".wpa-ld").addClass(r),t.parent(".wpa-ld").append('<button aria-expanded="false" type="button" class="wpa-toggle">'+wpald.text+"</button>"),t.parent(".wpa-ld").append('<div class="longdesc"></div>');var s=t.parent(".wpa-ld").children(".longdesc");s.hide(),s.load(a+" #desc_"+l),t.parent(".wpa-ld").children("button").on("click",function(d){var c=s.is(":visible");c?(e(this).attr("aria-expanded","false"),s.hide()):(e(this).attr("aria-expanded","true"),s.show(150))})}),e("figure.is-style-longdesc").each(function(){var a=e(this).find("img");o(a)})}})(jQuery);})();
