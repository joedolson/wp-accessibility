(()=>{function c(i){let o=i+"=",n=document.cookie.split(";");for(let l=0;l<n.length;l++){let s=n[l];for(;s.charAt(0)==" ";)s=s.substring(1,s.length);if(s.indexOf(o)==0)return s.substring(o.length,s.length)}return null}(function(){let i=document.createElement("div"),o="";o+='<ul class="a11y-toolbar-list">',wpatb.enable_contrast=="true"&&(o+='<li class="a11y-toolbar-list-item"><button type="button" class="a11y-toggle a11y-toggle-contrast toggle-contrast" data-id="is_normal_contrast" aria-pressed="false"><span class="offscreen">'+wpatb.contrast+'</span><span class="aticon aticon-adjust" aria-hidden="true"></span></button></li>'),wpatb.enable_grayscale=="true"&&(o+='<li class="a11y-toolbar-list-item"><button type="button" class="a11y-toggle a11y-toggle-grayscale toggle-grayscale" data-id="is_normal_color" aria-pressed="false"><span class="offscreen">'+wpatb.grayscale+'</span><span class="aticon aticon-tint" aria-hidden="true"></span></button></li>'),wpatb.enable_fontsize=="true"&&(o+='<li class="a11y-toolbar-list-item"><button type="button" class="a11y-toggle a11y-toggle-fontsize toggle-fontsize" data-id="is_normal_fontsize" aria-pressed="false"><span class="offscreen">'+wpatb.fontsize+'</span><span class="aticon aticon-font" aria-hidden="true"></span></button></li>'),o+="</ul>",i.classList.add(wpatb.responsive,"a11y-toolbar",wpatb.is_rtl,wpatb.is_right,wpatb.custom_location),i.innerHTML=o;let n=document.querySelector(wpatb.location);n!==null?n.insertAdjacentElement("afterbegin",i):(n=document.querySelector("body"),i.classList.remove("custom-location"),i.classList.add("standard-location"),n.insertAdjacentElement("afterbegin",i),console.log("WP Accessibility Toolbar insertion point not valid. Moved to body."));let l=document.querySelectorAll(".a11y-toggle"),s=document.querySelector("body"),y=document.querySelector("head"),r=document.querySelector("html"),v=document.querySelector(".a11y-toolbar");l.forEach(e=>{e.addEventListener("focus",function(){e.classList.remove("tooltip-dismissed")}),e.addEventListener("keyup",function(t){t.keyCode==27&&e.classList.addClass("tooltip-dismissed")})}),c("a11y-desaturated")&&d(),c("a11y-high-contrast")&&u(),c("a11y-larger-fontsize")&&f();function d(){r.classList.add("desaturated"),document.querySelectorAll('[data-id="is_normal_color"]').forEach(t=>{t.setAttribute("data-id","is_grayscale"),t.setAttribute("aria-pressed",!0),t.classList.add("active")})}function p(){r.classList.remove("desaturated"),document.querySelectorAll('[data-id="is_grayscale"]').forEach(t=>{t.setAttribute("data-id","is_normal_color"),t.setAttribute("aria-pressed",!1),t.classList.remove("active")})}function u(){s.classList.add("contrast"),document.querySelectorAll('[data-id="is_normal_contrast"]').forEach(a=>{a.setAttribute("data-id","is_high_contrast"),a.setAttribute("aria-pressed",!0),a.classList.add("active")});let t=document.createElement("link");t.setAttribute("href",wpa11y.path),t.setAttribute("id","highContrastStylesheet"),t.setAttribute("rel","stylesheet"),y.insertAdjacentElement("beforeend",t)}function h(){s.classList.remove("contrast"),document.querySelectorAll('[data-id="is_high_contrast"]').forEach(a=>{a.setAttribute("data-id","is_normal_contrast"),a.setAttribute("aria-pressed",!1),a.classList.remove("active")}),document.getElementById("highContrastStylesheet").remove()}function f(){r.classList.add("fontsize"),document.querySelectorAll('[data-id="is_normal_fontsize"]').forEach(t=>{t.setAttribute("data-id","is_large_fontsize"),t.setAttribute("aria-pressed",!0),t.classList.add("active")})}function _(){r.classList.remove("fontsize"),document.querySelectorAll('[data-id="is_large_fontsize"]').forEach(t=>{t.setAttribute("data-id","is_normal_fontsize"),t.setAttribute("aria-pressed",!1),t.classList.remove("active")})}let b=document.querySelectorAll(".toggle-grayscale"),g=document.querySelectorAll(".toggle-contrast"),m=document.querySelectorAll(".toggle-fontsize");b!==null&&b.forEach(e=>{e.addEventListener("click",function(){this.getAttribute("data-id")==="is_normal_color"?d():p()})}),g!==null&&g.forEach(e=>{e.addEventListener("click",function(){this.getAttribute("data-id")==="is_normal_contrast"?u():h()})}),m!==null&&m.forEach(e=>{e.addEventListener("click",function(){this.getAttribute("data-id")==="is_normal_fontsize"?f():_()})}),document.querySelectorAll('input,a[href],select,textarea,button:not(.a11y-toggle),[tabindex]:not([tabindex="-1"])').forEach(e=>{e.addEventListener("focus",function(){let t=e.getBoundingClientRect(),a=document.querySelector(".a11y-toolbar.standard-location");if(a?a=a.getBoundingClientRect():a={bottom:0,left:0,top:0,right:0},!(t.top>a.bottom||t.right<a.left||t.bottom<a.top||t.left>a.right)){let A=t.bottom-a.top;window.scrollBy(0,A)}})})})();})();
